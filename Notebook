{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "id": "7c0673e7",
   "metadata": {
    "_cell_guid": "b1076dfc-b9ad-4769-8c92-a6c4dae69d19",
    "_uuid": "8f2839f25d086af736a60e9eeb907d3b93b6e0e5",
    "execution": {
     "iopub.execute_input": "2022-03-09T21:15:06.653179Z",
     "iopub.status.busy": "2022-03-09T21:15:06.649220Z",
     "iopub.status.idle": "2022-03-09T21:15:09.204895Z",
     "shell.execute_reply": "2022-03-09T21:15:09.204133Z"
    },
    "papermill": {
     "duration": 2.572245,
     "end_time": "2022-03-09T21:15:09.205068",
     "exception": false,
     "start_time": "2022-03-09T21:15:06.632823",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [],
   "source": [
    "import os \n",
    "import librosa\n",
    "from tqdm import tqdm\n",
    "import json\n",
    "\n",
    "import pandas as pd\n",
    "import seaborn as sn\n",
    "import matplotlib.pyplot as plt"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "70471232",
   "metadata": {
    "papermill": {
     "duration": 0.006608,
     "end_time": "2022-03-09T21:15:09.219618",
     "exception": false,
     "start_time": "2022-03-09T21:15:09.213010",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "### **Data Reading**\n",
    "0. Print directory details\n",
    "1. Set location of data\n",
    "2. Read in birds that are scored for competition\n",
    "3. Print these bird names"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "id": "05f5856a",
   "metadata": {
    "_kg_hide-input": true,
    "_kg_hide-output": true,
    "execution": {
     "iopub.execute_input": "2022-03-09T21:15:09.243591Z",
     "iopub.status.busy": "2022-03-09T21:15:09.237252Z",
     "iopub.status.idle": "2022-03-09T21:15:09.987914Z",
     "shell.execute_reply": "2022-03-09T21:15:09.987276Z"
    },
    "papermill": {
     "duration": 0.762119,
     "end_time": "2022-03-09T21:15:09.988061",
     "exception": false,
     "start_time": "2022-03-09T21:15:09.225942",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "total 5160\r\n",
      "-rw-r--r--   1 nobody nogroup 2014496 Feb 13 16:05 eBird_Taxonomy_v2021.csv\r\n",
      "-rw-r--r--   1 nobody nogroup     127 Feb 13 16:05 sample_submission.csv\r\n",
      "-rw-r--r--   1 nobody nogroup     208 Feb 13 16:05 scored_birds.json\r\n",
      "-rw-r--r--   1 nobody nogroup     219 Feb 13 16:05 test.csv\r\n",
      "drwxr-xr-x   2 nobody nogroup       0 Feb 13 16:05 test_soundscapes\r\n",
      "drwxr-xr-x 154 nobody nogroup       0 Feb 13 16:05 train_audio\r\n",
      "-rw-r--r--   1 nobody nogroup 3255538 Feb 13 16:05 train_metadata.csv\r\n"
     ]
    }
   ],
   "source": [
    "#0\n",
    "!ls -l /kaggle/input/birdclef-2022"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "id": "517bb215",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-03-09T21:15:10.007323Z",
     "iopub.status.busy": "2022-03-09T21:15:10.006317Z",
     "iopub.status.idle": "2022-03-09T21:15:10.017853Z",
     "shell.execute_reply": "2022-03-09T21:15:10.018360Z",
     "shell.execute_reply.started": "2022-03-09T21:12:35.120727Z"
    },
    "papermill": {
     "duration": 0.022764,
     "end_time": "2022-03-09T21:15:10.018577",
     "exception": false,
     "start_time": "2022-03-09T21:15:09.995813",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "\n",
      "=====VVVVV=====\n",
      "Birds that are scored for the competition:\n",
      "['akiapo', 'aniani', 'apapan', 'barpet', 'crehon', 'elepai', 'ercfra', 'hawama', 'hawcre', 'hawgoo', 'hawhaw', 'hawpet1', 'houfin', 'iiwi', 'jabwar', 'maupar', 'omao', 'puaioh', 'skylar', 'warwhe1', 'yefcan']\n",
      "===============\n"
     ]
    }
   ],
   "source": [
    "#1\n",
    "PATH_DATASET = \"/kaggle/input/birdclef-2022\"\n",
    "PATH_CONVERTED = \"/kaggle/input/birdclef-convert-spectrograms-noise-reduce\"\n",
    "\n",
    "#2\n",
    "with open(os.path.join(PATH_DATASET, \"scored_birds.json\")) as fp:\n",
    "    scored_birds = json.load(fp)\n",
    "\n",
    "#3\n",
    "print(\"\\n=====VVVVV=====\")\n",
    "print(\"Birds that are scored for the competition:\")\n",
    "print(scored_birds)\n",
    "print(\"===============\")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "49018412",
   "metadata": {
    "papermill": {
     "duration": 0.006983,
     "end_time": "2022-03-09T21:15:10.033143",
     "exception": false,
     "start_time": "2022-03-09T21:15:10.026160",
     "status": "completed"
    },
    "tags": []
   },
   "source": [
    "### **Visualising Meta Data**\n",
    "0. "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "id": "3b8b3b3d",
   "metadata": {
    "execution": {
     "iopub.execute_input": "2022-03-09T21:15:10.052235Z",
     "iopub.status.busy": "2022-03-09T21:15:10.051038Z",
     "iopub.status.idle": "2022-03-09T21:15:10.545680Z",
     "shell.execute_reply": "2022-03-09T21:15:10.546221Z"
    },
    "papermill": {
     "duration": 0.50566,
     "end_time": "2022-03-09T21:15:10.546396",
     "exception": false,
     "start_time": "2022-03-09T21:15:10.040736",
     "status": "completed"
    },
    "tags": []
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>primary_label</th>\n",
       "      <th>secondary_labels</th>\n",
       "      <th>type</th>\n",
       "      <th>latitude</th>\n",
       "      <th>longitude</th>\n",
       "      <th>scientific_name</th>\n",
       "      <th>common_name</th>\n",
       "      <th>author</th>\n",
       "      <th>license</th>\n",
       "      <th>rating</th>\n",
       "      <th>time</th>\n",
       "      <th>url</th>\n",
       "      <th>filename</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>afrsil1</td>\n",
       "      <td>[]</td>\n",
       "      <td>[call, flight call]</td>\n",
       "      <td>12.3910</td>\n",
       "      <td>-1.4930</td>\n",
       "      <td>Euodice cantans</td>\n",
       "      <td>African Silverbill</td>\n",
       "      <td>Bram Piot</td>\n",
       "      <td>Creative Commons Attribution-NonCommercial-Sha...</td>\n",
       "      <td>2.5</td>\n",
       "      <td>08:00</td>\n",
       "      <td>https://www.xeno-canto.org/125458</td>\n",
       "      <td>afrsil1/XC125458.ogg</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>afrsil1</td>\n",
       "      <td>[houspa, redava, zebdov]</td>\n",
       "      <td>[call]</td>\n",
       "      <td>19.8801</td>\n",
       "      <td>-155.7254</td>\n",
       "      <td>Euodice cantans</td>\n",
       "      <td>African Silverbill</td>\n",
       "      <td>Dan Lane</td>\n",
       "      <td>Creative Commons Attribution-NonCommercial-Sha...</td>\n",
       "      <td>3.5</td>\n",
       "      <td>08:30</td>\n",
       "      <td>https://www.xeno-canto.org/175522</td>\n",
       "      <td>afrsil1/XC175522.ogg</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>afrsil1</td>\n",
       "      <td>[]</td>\n",
       "      <td>[call, song]</td>\n",
       "      <td>16.2901</td>\n",
       "      <td>-16.0321</td>\n",
       "      <td>Euodice cantans</td>\n",
       "      <td>African Silverbill</td>\n",
       "      <td>Bram Piot</td>\n",
       "      <td>Creative Commons Attribution-NonCommercial-Sha...</td>\n",
       "      <td>4.0</td>\n",
       "      <td>11:30</td>\n",
       "      <td>https://www.xeno-canto.org/177993</td>\n",
       "      <td>afrsil1/XC177993.ogg</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>afrsil1</td>\n",
       "      <td>[]</td>\n",
       "      <td>[alarm call, call]</td>\n",
       "      <td>17.0922</td>\n",
       "      <td>54.2958</td>\n",
       "      <td>Euodice cantans</td>\n",
       "      <td>African Silverbill</td>\n",
       "      <td>Oscar Campbell</td>\n",
       "      <td>Creative Commons Attribution-NonCommercial-Sha...</td>\n",
       "      <td>4.0</td>\n",
       "      <td>11:00</td>\n",
       "      <td>https://www.xeno-canto.org/205893</td>\n",
       "      <td>afrsil1/XC205893.ogg</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>afrsil1</td>\n",
       "      <td>[]</td>\n",
       "      <td>[flight call]</td>\n",
       "      <td>21.4581</td>\n",
       "      <td>-157.7252</td>\n",
       "      <td>Euodice cantans</td>\n",
       "      <td>African Silverbill</td>\n",
       "      <td>Ross Gallardy</td>\n",
       "      <td>Creative Commons Attribution-NonCommercial-Sha...</td>\n",
       "      <td>3.0</td>\n",
       "      <td>16:30</td>\n",
       "      <td>https://www.xeno-canto.org/207431</td>\n",
       "      <td>afrsil1/XC207431.ogg</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  primary_label          secondary_labels                 type  latitude  \\\n",
       "0       afrsil1                        []  [call, flight call]   12.3910   \n",
       "1       afrsil1  [houspa, redava, zebdov]               [call]   19.8801   \n",
       "2       afrsil1                        []         [call, song]   16.2901   \n",
       "3       afrsil1                        []   [alarm call, call]   17.0922   \n",
       "4       afrsil1                        []        [flight call]   21.4581   \n",
       "\n",
       "   longitude  scientific_name         common_name          author  \\\n",
       "0    -1.4930  Euodice cantans  African Silverbill       Bram Piot   \n",
       "1  -155.7254  Euodice cantans  African Silverbill        Dan Lane   \n",
       "2   -16.0321  Euodice cantans  African Silverbill       Bram Piot   \n",
       "3    54.2958  Euodice cantans  African Silverbill  Oscar Campbell   \n",
       "4  -157.7252  Euodice cantans  African Silverbill   Ross Gallardy   \n",
       "\n",
       "                                             license  rating   time  \\\n",
       "0  Creative Commons Attribution-NonCommercial-Sha...     2.5  08:00   \n",
       "1  Creative Commons Attribution-NonCommercial-Sha...     3.5  08:30   \n",
       "2  Creative Commons Attribution-NonCommercial-Sha...     4.0  11:30   \n",
       "3  Creative Commons Attribution-NonCommercial-Sha...     4.0  11:00   \n",
       "4  Creative Commons Attribution-NonCommercial-Sha...     3.0  16:30   \n",
       "\n",
       "                                 url              filename  \n",
       "0  https://www.xeno-canto.org/125458  afrsil1/XC125458.ogg  \n",
       "1  https://www.xeno-canto.org/175522  afrsil1/XC175522.ogg  \n",
       "2  https://www.xeno-canto.org/177993  afrsil1/XC177993.ogg  \n",
       "3  https://www.xeno-canto.org/205893  afrsil1/XC205893.ogg  \n",
       "4  https://www.xeno-canto.org/207431  afrsil1/XC207431.ogg  "
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "train_meta = pd.read_csv(os.path.join(PATH_DATASET, \"train_metadata.csv\"))\n",
    "train_meta[\"secondary_labels\"] = list(map(eval, train_meta[\"secondary_labels\"]))\n",
    "train_meta[\"type\"] = list(map(eval, train_meta[\"type\"]))\n",
    "display(train_meta.head())"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.12"
  },
  "papermill": {
   "default_parameters": {},
   "duration": 15.08028,
   "end_time": "2022-03-09T21:15:11.366600",
   "environment_variables": {},
   "exception": null,
   "input_path": "__notebook__.ipynb",
   "output_path": "__notebook__.ipynb",
   "parameters": {},
   "start_time": "2022-03-09T21:14:56.286320",
   "version": "2.3.3"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
